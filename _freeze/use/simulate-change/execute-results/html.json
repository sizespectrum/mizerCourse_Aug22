{
  "hash": "6275b8d7e08c4030b7a2615516a92b97",
  "result": {
    "markdown": "---\ntitle: \"Using a model to explore the consequences of change\"\n---\n\n\n## Introduction\n\nMizer is a tool that can be used to simulate a dynamic size spectrum in an marine ecosystem, subject to changes through time, such as fishing pressure. Multiple interacting species and fishing gears can be defined allowing for a range of fisheries management strategy scenarios, and their ecosystem impacts, to be tested.\n\nBelow we explore some examples of what can be done using a previously calibrated mizer model. We will use the mizerHowTo package which contains some handy functions for this example.\n\n\n::: {.cell hash='simulate-change_cache/html/set-up_2ad3590d52b549421e35ef4a0cd3ae0f'}\n\n:::\n\n\nIn the previous tutorials we have been focused on the steady state. Now we are ready to make changes through time by forcing the model away from its steady state. For this example, will start with the toothfish model but as always you can you your own model or the curonian lagoon for the exercises.\n\n### Fishing through time\n\nIn the previous tutorial, we examined a simple longline fishery that consists of targeting a single species (toothfish, here referred to as *D.ele*). However, all of the parameters for fishing were fixed through time. Mizer can also be used to carry out projections with changes in fishing effort.\n\nWe will start by reading in a time series of catch and effort.\n\n\n::: {.cell code_folding='true' hash='simulate-change_cache/html/unnamed-chunk-1_5b77ae9465fde862df13eeecedf17b94'}\n\n```{.r .cell-code}\n# read in model sim object\nsim <- readRDS(\"toothfish/params10.RDS\")\nparams <- sim@params\n\n# read in fishing data (note: these are not really correct values, they are only for illustration in this example) \n\ndat<-readRDS(\"toothfish/longline.rds\")\n\nplot_dat <- reshape2::melt(dat, \"Year\")\nggplot(plot_dat, aes(x = Year, y = value)) +\n  geom_point() +\n  facet_wrap(~variable, nrow = 2, scales = \"free\")\n```\n\n::: {.cell-output-display}\n![](simulate-change_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\nWe can see from the data that there have been big changes in effort and catches through time. The three plots show effort in units of number of hooks, catches are in tonnes, and the final plot shows how the area of the fishing activity has expanded through time.\n\nPreviously we assumed effort was 1 and we worked with catchability as the variable. Real effort data can come in all sorts of different units (hours or days fished, kilowatt days, number of vessels all per unit time). The key to using this in our model is that the catchability is the fraction of the available (that is also selected by the gear) stock caught per unit of any effort that is included.\n\nOften, we have used fishing mortality rates from stock assessment to drive changes in effort through time, assuming Q\\*E = F at maximally selected sizes (as in [this](https://besjournals.onlinelibrary.wiley.com/doi/10.1111/1365-2664.12238) paper and others). But in many cases this information is not available. It also could be misleading as those fishing mortality rates are estimated using very different single-species models (but sometimes that is the best we have to work with, and as with all of the assumptions we make the limitations just need to be clear).\n\nHow do we incorporate the effort data into the model? First, we have to re-arrange the data so it can be read into the *param* object.\n\n\n::: {.cell code_folding='true' hash='simulate-change_cache/html/unnamed-chunk-2_91f80885800c1fe77fd7e1f9d563e7de'}\n\n```{.r .cell-code}\nspecies_params(params)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"species\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"l_inf\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"l_mat\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"a\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"b\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"k_vb\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"t0\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"beta\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"sigma\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"w_inf\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"w_mat\"],\"name\":[11],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"biomass_observed\"],\"name\":[12],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"w_min\"],\"name\":[13],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"alpha\"],\"name\":[14],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"interaction_resource\"],\"name\":[15],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[16],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p\"],\"name\":[17],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"q\"],\"name\":[18],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"pred_kernel_type\"],\"name\":[19],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"h\"],\"name\":[20],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"k\"],\"name\":[21],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"ks\"],\"name\":[22],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"z0\"],\"name\":[23],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"gamma\"],\"name\":[24],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"w_mat25\"],\"name\":[25],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"m\"],\"name\":[26],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"erepro\"],\"name\":[27],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"R_max\"],\"name\":[28],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"biomass_cutoffLow\"],\"name\":[29],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"biomass_cutoffHigh\"],\"name\":[30],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"yield_observed\"],\"name\":[31],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"D.ele\",\"2\":\"215.00\",\"3\":\"95.000\",\"4\":\"0.006030\",\"5\":\"3.180\",\"6\":\"0.05000\",\"7\":\"0.000\",\"8\":\"100\",\"9\":\"2\",\"10\":\"157569.3033\",\"11\":\"11734.87254\",\"12\":\"24863947.8\",\"13\":\"0.001\",\"14\":\"0.6\",\"15\":\"0.9774565\",\"16\":\"0.6666667\",\"17\":\"0.7\",\"18\":\"0.7166667\",\"19\":\"lognormal\",\"20\":\"24.248224\",\"21\":\"0\",\"22\":\"2.1291777\",\"23\":\"0.01110864\",\"24\":\"2.790951e-06\",\"25\":\"10513.95833\",\"26\":\"1\",\"27\":\"0.007744214\",\"28\":\"58708.391\",\"29\":\"199.2396\",\"30\":\"4209.393\",\"31\":\"2045102\",\"_rn_\":\"D.ele\"},{\"1\":\"C.gun\",\"2\":\"49.00\",\"3\":\"26.000\",\"4\":\"0.001285\",\"5\":\"3.257\",\"6\":\"0.36800\",\"7\":\"0.067\",\"8\":\"200\",\"9\":\"2\",\"10\":\"411.0283\",\"11\":\"52.17606\",\"12\":\"7543221.3\",\"13\":\"0.001\",\"14\":\"0.6\",\"15\":\"0.6219654\",\"16\":\"0.6666667\",\"17\":\"0.7\",\"18\":\"0.7166667\",\"19\":\"lognormal\",\"20\":\"21.420347\",\"21\":\"0\",\"22\":\"2.2529871\",\"23\":\"0.08069761\",\"24\":\"2.367621e-06\",\"25\":\"46.74759\",\"26\":\"1\",\"27\":\"0.068515956\",\"28\":\"623117.497\",\"29\":\"199.2396\",\"30\":\"4209.393\",\"31\":\"0\",\"_rn_\":\"C.gun\"},{\"1\":\"C.rhi\",\"2\":\"86.80\",\"3\":\"33.500\",\"4\":\"0.000197\",\"5\":\"3.570\",\"6\":\"0.15000\",\"7\":\"-0.710\",\"8\":\"100\",\"9\":\"2\",\"10\":\"1640.5204\",\"11\":\"54.81207\",\"12\":\"4218500.8\",\"13\":\"0.001\",\"14\":\"0.6\",\"15\":\"0.9133256\",\"16\":\"0.6666667\",\"17\":\"0.7\",\"18\":\"0.7166667\",\"19\":\"lognormal\",\"20\":\"18.193719\",\"21\":\"0\",\"22\":\"1.9104698\",\"23\":\"0.05087339\",\"24\":\"2.294675e-06\",\"25\":\"49.10934\",\"26\":\"1\",\"27\":\"0.065292562\",\"28\":\"166139.572\",\"29\":\"199.2396\",\"30\":\"4209.393\",\"31\":\"0\",\"_rn_\":\"C.rhi\"},{\"1\":\"L.squ\",\"2\":\"47.31\",\"3\":\"29.000\",\"4\":\"0.001800\",\"5\":\"3.320\",\"6\":\"0.13000\",\"7\":\"0.140\",\"8\":\"100\",\"9\":\"2\",\"10\":\"654.8115\",\"11\":\"128.95371\",\"12\":\"3666444.8\",\"13\":\"0.001\",\"14\":\"0.6\",\"15\":\"0.1051315\",\"16\":\"0.6666667\",\"17\":\"0.7\",\"18\":\"0.7166667\",\"19\":\"lognormal\",\"20\":\"8.317819\",\"21\":\"0\",\"22\":\"0.8488734\",\"23\":\"0.06909487\",\"24\":\"1.049081e-06\",\"25\":\"115.53717\",\"26\":\"1\",\"27\":\"0.100489282\",\"28\":\"14587468.158\",\"29\":\"199.2396\",\"30\":\"4209.393\",\"31\":\"0\",\"_rn_\":\"L.squ\"},{\"1\":\"M.cam\",\"2\":\"64.30\",\"3\":\"52.500\",\"4\":\"0.006095\",\"5\":\"2.977\",\"6\":\"0.09498\",\"7\":\"-1.595\",\"8\":\"100\",\"9\":\"2\",\"10\":\"1472.3728\",\"11\":\"805.17069\",\"12\":\"1951617.3\",\"13\":\"0.001\",\"14\":\"0.6\",\"15\":\"0.9419292\",\"16\":\"0.6666667\",\"17\":\"0.7\",\"18\":\"0.7166667\",\"19\":\"lognormal\",\"20\":\"7.076849\",\"21\":\"0\",\"22\":\"0.6794512\",\"23\":\"0.05274063\",\"24\":\"8.925646e-07\",\"25\":\"721.39949\",\"26\":\"1\",\"27\":\"0.229326143\",\"28\":\"621642.074\",\"29\":\"199.2396\",\"30\":\"4209.393\",\"31\":\"0\",\"_rn_\":\"M.cam\"},{\"1\":\"B.eat\",\"2\":\"87.90\",\"3\":\"NA\",\"4\":\"0.001750\",\"5\":\"3.190\",\"6\":\"0.50000\",\"7\":\"-0.770\",\"8\":\"100\",\"9\":\"2\",\"10\":\"2782.0348\",\"11\":\"695.50870\",\"12\":\"739819.2\",\"13\":\"0.001\",\"14\":\"0.6\",\"15\":\"0.8770241\",\"16\":\"0.6666667\",\"17\":\"0.7\",\"18\":\"0.7166667\",\"19\":\"lognormal\",\"20\":\"83.229856\",\"21\":\"0\",\"22\":\"8.0300264\",\"23\":\"0.04266094\",\"24\":\"1.049733e-05\",\"25\":\"623.14691\",\"26\":\"1\",\"27\":\"0.064348370\",\"28\":\"4221.885\",\"29\":\"199.2396\",\"30\":\"4209.393\",\"31\":\"0\",\"_rn_\":\"B.eat\"},{\"1\":\"B.irr\",\"2\":\"132.90\",\"3\":\"111.899\",\"4\":\"0.003130\",\"5\":\"3.110\",\"6\":\"0.17000\",\"7\":\"-1.740\",\"8\":\"100\",\"9\":\"2\",\"10\":\"12580.7644\",\"11\":\"7368.75024\",\"12\":\"278277.2\",\"13\":\"0.001\",\"14\":\"0.6\",\"15\":\"0.7784225\",\"16\":\"0.6666667\",\"17\":\"0.7\",\"18\":\"0.7166667\",\"19\":\"lognormal\",\"20\":\"26.554470\",\"21\":\"0\",\"22\":\"2.3681312\",\"23\":\"0.02579777\",\"24\":\"3.349171e-06\",\"25\":\"6602.09411\",\"26\":\"1\",\"27\":\"0.096241969\",\"28\":\"1042.427\",\"29\":\"199.2396\",\"30\":\"4209.393\",\"31\":\"0\",\"_rn_\":\"B.irr\"},{\"1\":\"G.acu\",\"2\":\"35.00\",\"3\":\"NA\",\"4\":\"0.006030\",\"5\":\"3.250\",\"6\":\"0.30000\",\"7\":\"0.000\",\"8\":\"100\",\"9\":\"2\",\"10\":\"628.8375\",\"11\":\"157.20938\",\"12\":\"327470.5\",\"13\":\"0.001\",\"14\":\"0.6\",\"15\":\"0.9785166\",\"16\":\"0.6666667\",\"17\":\"0.7\",\"18\":\"0.7166667\",\"19\":\"lognormal\",\"20\":\"18.779966\",\"21\":\"0\",\"22\":\"1.9039700\",\"23\":\"0.07003338\",\"24\":\"2.368615e-06\",\"25\":\"140.85308\",\"26\":\"1\",\"27\":\"0.427544951\",\"28\":\"32417.794\",\"29\":\"199.2396\",\"30\":\"4209.393\",\"31\":\"0\",\"_rn_\":\"G.acu\"},{\"1\":\"B.mur\",\"2\":\"51.80\",\"3\":\"46.138\",\"4\":\"0.005430\",\"5\":\"3.040\",\"6\":\"0.31000\",\"7\":\"-0.030\",\"8\":\"100\",\"9\":\"2\",\"10\":\"883.8169\",\"11\":\"621.63932\",\"12\":\"109831.7\",\"13\":\"0.001\",\"14\":\"0.6\",\"15\":\"0.9831208\",\"16\":\"0.6666667\",\"17\":\"0.7\",\"18\":\"0.7166667\",\"19\":\"lognormal\",\"20\":\"14.827203\",\"21\":\"0\",\"22\":\"1.4358945\",\"23\":\"0.06252166\",\"24\":\"1.870075e-06\",\"25\":\"556.96300\",\"26\":\"1\",\"27\":\"0.112178272\",\"28\":\"14523.639\",\"29\":\"199.2396\",\"30\":\"4209.393\",\"31\":\"0\",\"_rn_\":\"B.mur\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\neffort_time <-array(c(rep(0,53),dat$EffortPerArea), dim = c(length(1950:2020),1),dimnames = list(\"time\" = 1950:2020, \"gear\" = params@gear_params$gear[1]))\n```\n:::\n\n\nNext we use the effort data to project the model forwards from it's steady state. But wait - we did not set up the model for the first year of the data, when fishing only just began. It may make more sense to use a steady state without fishing as the initial values for our projection.\n\n\n::: {.cell code_folding='true' hash='simulate-change_cache/html/unnamed-chunk-3_67e17ce84e27ba740a571711014232cd'}\n\n```{.r .cell-code}\nsim0 <- projectToSteady(params, effort = 0, return_sim = TRUE, t_max = 200)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 1.5 years.\n```\n:::\n\n```{.r .cell-code}\nparams<-setInitialValues(params,sim0)\n\n\nsimf <- project(params, effort = effort_time)\n\nyieldplot<-plotYieldGear(simf)\n\nyieldcompare<-yieldplot+ geom_point(data = dat, shape = 1, size = 1, mapping = aes(x=Year, y= CatchPerArea))\nyieldcompare\n```\n\n::: {.cell-output-display}\n![](simulate-change_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nHere we can see that the modeled catch time series fall within the scatter of the observed catch data (reassuring), but the trends are different. It seems there is a sharp decline in modeled catches towards the end of the time series. While we should not expect the exact up and down fluctuations to be captured by our model (we don't have anything forcing the changes through time other than fishing!), we can examine how changing the reproduction parameters affects how well the model captures stock decline (and later, recovery), relative to the trends in the data.\n\nWe can look at this below by changing the reproduction level and seeing what the levels of sustainable fishing mortality the equilibrium yield vs F curves suggest for different assumptions (where the peak occurs we could consider a proxy for single-species *Fmsy*) .\n\n\n::: {.cell code_folding='true' hash='simulate-change_cache/html/unnamed-chunk-4_f699c8609d40ad59a82cd340da47467c'}\n\n```{.r .cell-code}\nparams2<- setBevertonHolt(params, reproduction_level = 0.2)\n\nsim02 <- projectToSteady(params2, effort = 0, return_sim = TRUE, t_max = 200)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 1.5 years.\n```\n:::\n\n```{.r .cell-code}\nplotYieldVsF(params2,species=\"D.ele\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 1.5 years.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in projectToSteady(params, t_max = 100, return_sim = TRUE, progress_bar\n= FALSE, : D.ele are going extinct.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nSimulation run did not converge after 90 years. Value returned by the distance function was: NA\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 36 years.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nSimulation run did not converge after 99 years. Value returned by the distance function was: 10.5521905688198\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nSimulation run did not converge after 99 years. Value returned by the distance function was: 17.2376886919921\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nSimulation run did not converge after 99 years. Value returned by the distance function was: 26.482467838532\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in projectToSteady(params, t_max = 100, return_sim = TRUE, progress_bar\n= FALSE, : D.ele are going extinct.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nSimulation run did not converge after 9 years. Value returned by the distance function was: NA\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in projectToSteady(params, t_max = 100, return_sim = TRUE, progress_bar\n= FALSE, : D.ele are going extinct.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nSimulation run did not converge after 1.5 years. Value returned by the distance function was: NA\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in projectToSteady(params, t_max = 100, return_sim = TRUE, progress_bar\n= FALSE, : D.ele are going extinct.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nSimulation run did not converge after 1.5 years. Value returned by the distance function was: NA\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in projectToSteady(params, t_max = 100, return_sim = TRUE, progress_bar\n= FALSE, : D.ele are going extinct.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nSimulation run did not converge after 1.5 years. Value returned by the distance function was: NA\n```\n:::\n\n::: {.cell-output-display}\n![](simulate-change_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nplotYieldVsF(params,species=\"D.ele\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 1.5 years.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 25.5 years.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 13.5 years.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 33 years.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 22.5 years.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 21 years.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 18 years.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nConvergence was achieved in 10.5 years.\nConvergence was achieved in 10.5 years.\nConvergence was achieved in 10.5 years.\n```\n:::\n\n::: {.cell-output-display}\n![](simulate-change_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n:::\n\n\nNext, let's compare what happens when when use these new parameter in our dynamical fishing runs.\n\n\n::: {.cell hash='simulate-change_cache/html/unnamed-chunk-5_25d731c546c7833bf98d9c848870f574'}\n\n```{.r .cell-code}\nparams2<-setInitialValues(params2,sim02)\nsimf2 <- project(params2, effort = effort_time)\n\nyieldplot2<-plotYieldGear(simf2)\n\nyieldcompare2<-yieldplot2+ geom_point(data = dat, shape = 1, size = 1, mapping = aes(x=Year, y= CatchPerArea))\nyieldcompare2\n```\n\n::: {.cell-output-display}\n![](simulate-change_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nHow do you interpret this? Remember think about the relationship between the fishing parameters in the model (e.g. F = Q\\*E). We didn't change these parameters, so they should be the same in both simulations and we can check them below:\n\n\n::: {.cell hash='simulate-change_cache/html/unnamed-chunk-6_88bd5c317300f3ad7e3192a3019be01c'}\n\n```{.r .cell-code}\nplotFMort(simf)\n```\n\n::: {.cell-output-display}\n![](simulate-change_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nplotFMort(simf2)\n```\n\n::: {.cell-output-display}\n![](simulate-change_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n:::\n\n\n#### Exercise:\n\nExamine how catch time series changes relative to the data if the reproduction parameters change. Is this consistent with what you expected from the steady state yield curves? How do the biomasses change under these different scenarios?\n\n### Catch only exploration\n\nWhat if there was no effort data only catch ?\n\nMany fisheries develop through time according to phases: an exponential growth period, following either a peak and subsequent decline and a plateau, if stocks drop below sustainable levels and management kicks in (see [here](https://www.pnas.org/doi/abs/10.1073/pnas.1820344116) for example). These different types of development can be represented by a function, *effort_dynamics*(), and can be used to help estimate the fishing parameters given the the model parameters and data you may have. This is the approach used [here](https://www.pnas.org/doi/full/10.1073/pnas.1612722114). Here, we will use this function to explore effort through time.\n\n\n::: {.cell code_folding='true' hash='simulate-change_cache/html/unnamed-chunk-7_318caf2e40078917fc891ac7cdf7779a'}\n\n```{.r .cell-code}\n# should I move to helper_functions or leave it in?\n\neffort_dynamics<-function(effort_array, gear=\"longline\",time=1950:2020,Fmax=1.5,steepness=0.2,midpoint=2005){\n\neffort_array[,gear]<-Fmax/(1+ exp(-steepness*(time - midpoint)))\n\nreturn(effort_array)\n}\n\nneweffort<-effort_dynamics(effort_time,Fmax=2.0,steepness=0.2,midpoint=2003)\n\n# to scale this up to the effort and catchability we used in our model we can multiply by initial effort \n\nneweffort<-neweffort*sim@params@initial_effort\n\nyear=1950:2020\nplot(year,neweffort,typ=\"l\")\n```\n\n::: {.cell-output-display}\n![](simulate-change_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n#### Exercise\n\nWhat level of Fmax causes collapse? Is this consistent with the knowledge form the equilibrium yield curves (sensitivity to fishing tutorial)?\n\n#### Exercise\n\nSet up a bycatch on another the other species in the model. This uses the same effort but with a lower catchability. Hint: you can use the ?gear_params function to modify these values.\n\n### Summary\n\n\\[in prep\\]\n\nIf you are interested in how to statistically fit models to time series data the mizerHowTo package discusses this (still in preparation).\n\nNext we will investigate dynamical changes in environment, with a focus on changes in resource abundance and size structure.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}